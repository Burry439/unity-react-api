(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/logo.3fa434f6.png"},127:function(e,t,a){e.exports=a.p+"static/media/tenor.b8a443cd.gif"},134:function(e,t,a){e.exports=a(206)},139:function(e,t,a){},146:function(e,t,a){var n={"./en/createchallenge":43,"./en/createchallenge.js":43,"./en/creategame":44,"./en/creategame.js":44,"./en/createtext":45,"./en/createtext.js":45,"./en/createuser":46,"./en/createuser.js":46,"./en/login":47,"./en/login.js":47,"./en/signup":48,"./en/signup.js":48,"./en/updatechallenge":49,"./en/updatechallenge.js":49,"./en/updategame":50,"./en/updategame.js":50,"./en/updatetext":51,"./en/updatetext.js":51,"./en/updateuser":52,"./en/updateuser.js":52,"./he/login":89,"./he/login.js":89,"./he/signup":90,"./he/signup.js":90};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=146},147:function(e,t,a){var n={"./createchallenge":43,"./createchallenge.js":43,"./creategame":44,"./creategame.js":44,"./createtext":45,"./createtext.js":45,"./createuser":46,"./createuser.js":46,"./login":47,"./login.js":47,"./signup":48,"./signup.js":48,"./updatechallenge":49,"./updatechallenge.js":49,"./updategame":50,"./updategame.js":50,"./updatetext":51,"./updatetext.js":51,"./updateuser":52,"./updateuser.js":52};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=147},148:function(e,t,a){},149:function(e,t,a){},154:function(e,t,a){},183:function(e,t){},191:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),l=a.n(i),s=a(18),c=(a(139),a(4)),o=a.n(c),u=a(7),m=a(8),d=a(15),p={API_URL:"http://localhost:8080",MULTIPLAYER_GAME_URL:"http://localhost:7000",SINGLEPLAYER_GAME_URL:"http://localhost:8000"},f=Object(d.a)({},p),g=Object(n.createContext)(),b=function(e){var t=Object(n.useState)("loading"),a=Object(m.a)(t,2),i=a[0],l=a[1],s=[404,500,401,403];Object(n.useEffect)((function(){console.log("in use effect"),v()}),[]);var c=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.status),!s.includes(t.status)){e.next=9;break}return console.log("in if"),l({}),e.next=6,t.text();case 6:return e.abrupt("return",e.sent);case 9:return console.log("in else"),e.next=12,t.json();case 12:return a=e.sent,console.log("validate response else : "+a),l(a),e.abrupt("return","success");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.API_URL,"/user/logout"),{method:"GET",headers:{"Content-Type":"application/json",language:"en"}});case 2:e.sent,l({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.API_URL,"/user/login"),{method:"POST",headers:{"Content-Type":"application/json",language:a},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,c(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.API_URL,"/user/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,c(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.API_URL,"/user/getUser"),{method:"GET",headers:{"Content-Type":"application/json",language:"en"}});case 2:return t=e.sent,console.log(t),e.next=6,c(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(g.Provider,{value:{user:i,login:p,signout:d,signup:b,getUser:v,setUser:l}},e.children)},v=Object(n.createContext)(),h={isShowModal:!1,component:""},E=function(e){var t=Object(n.useState)(h),a=Object(m.a)(t,2),i=a[0],l=a[1];return r.a.createElement(v.Provider,{value:{modal:i,openModal:function(e){l({isShowModal:!0,component:e})},closeModal:function(){l({isShowModal:!1,component:""})}}},e.children)},y=a(216),x=a(113),j=(a(34),function(e){return e.loading?r.a.createElement(x.a,{animation:"border",variant:"primary"}):null}),w=function(e){var t=e.status,a=e.text,n=e.direction;return t&&"loading"!==t?r.a.createElement("div",{className:"message ".concat(t),style:n},a):null},O=a(66),k=function(e){var t=e.field,a=e.formValidation,n=e.initalValue,i=e.direction;console.log(i);var l=t.label,s=t.key,c=t.validation,o=Object(O.a)(t,["label","key","validation"]),u=a.register,m=a.errors,d=a.watch,p=o.name;return r.a.createElement("div",{style:i},r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,l),function(){switch(o.type){case"textarea":return r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({key:s,autoFocus:!0,defaultValue:n},o,{ref:u(c)})),m[p]&&r.a.createElement("div",{className:"invalid-input-message"},m[p].message));case"checkbox":return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({key:s,defaultChecked:n},o,{ref:u(c)})),m[p]&&r.a.createElement("div",{className:"invalid-input-message"},m[p].message));case"email":return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({key:s,defaultValue:n},o,{type:"input",ref:u(c)})),m[p]&&r.a.createElement("div",{className:"invalid-input-message"},m[p].message));case"confirmpassword":return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({key:s,defaultChecked:n},o,{type:"password",ref:u({validate:function(e){return e===d("password")}})})),m[p]&&r.a.createElement("div",{className:"invalid-input-message"},c.message));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({key:s,defaultValue:n},o,{ref:u(c)})),m[p]&&r.a.createElement("div",{className:"invalid-input-message"},m[p].message))}}()))},N=function(e){var t=e.field,a=e.currentValue,n=e.formValidation,i=t.label,l=(t.key,t.validation,Object(O.a)(t,["label","key","validation"])),s=n.register;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,i),r.a.createElement("select",Object.assign({className:"form-control",defaultValue:a},l,{ref:s}),t.options.map((function(e){return r.a.createElement("option",{key:e,name:t.name,value:e},e)})))))},T=a(82),C=function(e){var t=e.formName,i=e.onSubmit,l=e.formResponse,s=e.value,c=void 0===s?"":s,p=Object(T.a)(),f=p.handleSubmit,g=p.register,b=p.errors,v=p.watch,h=Object(y.a)().i18n,E=Object(n.useState)(!0),x=Object(m.a)(E,2),O=x[0],C=x[1],L=Object(n.useState)({config:{},fields:[]}),S=Object(m.a)(L,2),_=S[0],q=S[1],P="en"==h.language?{display:"flex",flexDirection:"column",alignItems:"flex-start"}:{display:"flex",flexDirection:"column",alignItems:"flex-start",direction:"rtl"},U=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=a(146)("./".concat(h.language,"/").concat(t)).default,e.next=13;break;case 4:e.prev=4,e.t0=e.catch(0),e.prev=6,n=a(147)("./".concat(t)).default,e.next=13;break;case 10:return e.prev=10,e.t1=e.catch(6),e.abrupt("return",C(!1));case 13:q({fields:n.fields.map((function(e){return Object(d.a)({},e)})),config:n.config});case 14:case"end":return e.stop()}}),e,null,[[0,4],[6,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U()}),[]);return O?r.a.createElement("form",{onSubmit:f((function(e){i(e)})),style:P},_.fields.map((function(e){return"select"==e.type?r.a.createElement(N,{key:e.name,currentValue:c[e.name],formValidation:{register:g},field:e,direction:P}):r.a.createElement(k,{key:e.name,initalValue:c[e.name],formValidation:{register:g,errors:b,watch:v},field:e,direction:P})})),r.a.createElement("div",{className:"form-bottom"},r.a.createElement("button",{disabled:"success"===l.status,type:"submit"},_.config.buttonText),r.a.createElement(j,{loading:"loading"===l.status&&_.config.spinner})),r.a.createElement(w,{status:l.status,text:l.message,direction:P})):r.a.createElement("div",null,"Whoops cant find that form")},L=function(){var e=Object(y.a)().i18n,t=Object(n.useContext)(g).login,a=Object(n.useContext)(v).closeModal,i=Object(n.useState)({status:"",message:""}),l=Object(m.a)(i,2),s=l[0],c=l[1],d=function(){var n=Object(u.a)(o.a.mark((function n(r){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({status:"loading",message:""}),n.next=3,t(r,e.language);case 3:"success"==(i=n.sent)?a():(c({status:"error",message:i}),setTimeout((function(){c({status:"",message:""})}),3e3));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(C,{formName:"login",onSubmit:d,formResponse:s})},S=(a(148),function(){var e=Object(n.useContext)(g).signup,t=Object(n.useContext)(v).closeModal,a=Object(n.useState)({status:"",message:""}),i=Object(m.a)(a,2),l=i[0],s=i[1],c=function(){var a=Object(u.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s({status:"loading",message:""}),a.next=3,e(n);case 3:"success"==(r=a.sent)?t():(s({status:"error",message:r}),setTimeout((function(){s({status:"",message:""})}),3e3));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(C,{formName:"signup",onSubmit:c,formResponse:l})}),_=(a(149),a(118)),q=a.n(_),P=a(214),U=function(){var e=Object(y.a)("constant"),t=e.t,a=e.i18n,i=Object(n.useContext)(v).openModal,l=Object(n.useContext)(g),c=l.user,o=l.signout,u=function(e){a.changeLanguage(e)},m="en"==a.language?{direction:"ltr"}:{direction:"rtl"};return r.a.createElement("header",{style:m},r.a.createElement("div",{className:"logo-container"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{className:"logo",src:q.a,alt:"Logo"}))),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-end-container"},r.a.createElement("div",{className:"language-selector"},r.a.createElement(P.a,null,r.a.createElement(P.a.Toggle,{variant:"success",id:"dropdown-basic"},t("changeLanguage")),r.a.createElement(P.a.Menu,null,r.a.createElement(P.a.Item,{onClick:function(){return u("en")}},t("english")),r.a.createElement(P.a.Item,{onClick:function(){return u("he")}},t("hebrew"))))),r.a.createElement("div",{className:"user-links"},c._id?r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",{onClick:function(){return o()}},r.a.createElement("a",null),t("signout")),r.a.createElement("li",null," ",r.a.createElement(s.b,{to:"/profile"},t("profile"))),"admin"==c.role?r.a.createElement("li",null," ",r.a.createElement(s.b,{to:"/admin"},t("admin"))):r.a.createElement(r.a.Fragment,null)):r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",{onClick:function(){return i(S)}},r.a.createElement("a",null),t("signup")),r.a.createElement("li",{onClick:function(){return i(L)}},r.a.createElement("a",null),t("login")))))))},G=(a(154),function(e){var t=e.game;return r.a.createElement("div",{id:"game-body"},r.a.createElement("iframe",{className:"game-player",src:t,referrerPolicy:"origin"}))}),I=a(126),R=a.n(I),M=a(60),A=a(13),F=a(27),V=a(127),D=a.n(V),J={y:"-100vh",transition:{ease:"easeInOut"}},B={display:"none",opacity:0},K={display:"block",opacity:1},W={hidden:B,visible:K},$={hidden:B,visible:Object(d.a)(Object(d.a)({},K),{},{transition:{delay:.5,duration:1.5,stiffness:50,ease:"easeInOut"}})},Y=null,z=function(e){console.log("re-rendered");var t=Object(A.c)(),a=Object(A.c)(),i=(Object(F.f)(),e.location.pathname.match(/.*\/(.*)$/)[1]),l="onlineGame"==i?f.MULTIPLAYER_GAME_URL:f.SINGLEPLAYER_GAME_URL,s=Object(n.useContext)(g),c=s.user,o=s.setUser,u=Object(n.useState)(!1),d=Object(m.a)(u,2),p=d[0],b=d[1],v=Object(M.useToasts)().addToast;Object(n.useEffect)((function(){c._id&&h()}),[c]),Object(n.useEffect)((function(){return function(){console.log("in return : "+Y),null!=Y&&Y.disconnect()}}),[]);var h=function(){a.start("visible"),(Y=R()(l))&&(Y.on("connect",(function(){console.log("connetion"),Y.emit("ReactConnected",{userId:c._id,gameName:i})})),Y.on("gameReady",(function(){a.start("hidden"),t.start("visible")})),Y.on("isDuplicate",(function(){b(!0)})),Y.on("challengeCompleted",(function(e){c.completedChallenges.push(e),c.tickets+=e.reward,o(c),v("good job you completed challenge: "+e.challengeName,{appearance:"info"})})))};return c._id?r.a.createElement(A.b.div,{className:"container",exit:J},p?r.a.createElement(A.b.div,{variants:$,initial:"hidden",animate:"visible"},"Looks Like you have this open In another Tab"):r.a.createElement(r.a.Fragment,null,r.a.createElement(A.b.div,{variants:W,initial:"hidden",animate:t,exit:"exit"},r.a.createElement(G,{game:"".concat(l,"/").concat(i,"/?").concat(c._id)})),r.a.createElement(A.b.div,{variants:$,initial:"hidden",animate:a,exit:"exit"},r.a.createElement("div",null,r.a.createElement("img",{src:D.a,className:"loading"}))))):r.a.createElement(A.b.div,{className:"container",exit:J})},H=(a(191),{hidden:{opacity:0,x:"100vw"},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5,stiffness:50}},exit:{x:"100vh",transition:{ease:"easeInOut"}}}),Q=function(){var e=Object(n.useContext)(g).user,t=Object(F.f)();return Object(n.useEffect)((function(){"loading"==e||e._id||t.push("/home")}),[e]),e._id?r.a.createElement(A.b.div,{className:"container",variants:H,initial:"hidden",animate:"visible",exit:"exit"},r.a.createElement("h1",null,"Welcome ",e.username),r.a.createElement("div",null,r.a.createElement("h2",null,"Completed Challenges"),r.a.createElement("ul",null,e.completedChallenges.map((function(e){return r.a.createElement("li",{className:"challenges",key:e._id},"challenge name: ",e.challengeName)}))),r.a.createElement("h3",null,"Total Tickets: ",e.tickets))):r.a.createElement(A.b.div,{exit:!0},"Loading...")},X=a(213),Z=function(e){var t=e.filter,a=e.setFilter,i=e.table,l=e.setNewTable,s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],i.headers.forEach((function(e){i.exclude.includes(e)||t.push(r.a.createElement("option",{key:e},e))})),a((function(e){return{field:e.field,value:e.value,dropdown:t}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[i.headers]),r.a.createElement("div",{className:"search-container"},r.a.createElement(X.a.Group,{controlId:"exampleForm.SelectCustom"},r.a.createElement(X.a.Label,null,"Search By"),r.a.createElement(X.a.Control,{as:"select",custom:!0,onChange:function(e){return t=e.target.value,void a((function(e){return{dropdown:e.dropdown,value:e.value,field:t}}));var t}},t.dropdown)),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",value:t.value,onChange:function(e){return t=e.target.value,void a((function(e){return{dropdown:e.dropdown,value:t,field:e.field}}));var t}}),r.a.createElement("div",{className:"input-group"},r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return l()}},"Button"))))},ee=a(86),te=function(e){var t=e.pagination,a=e.setPagination,i=e.table,l=function(){for(var e=[],n=function(n){var i=(n-1)*t.limit;e.push(r.a.createElement(ee.a.Item,{key:n,onClick:function(){return e=i,void a((function(t){return{limit:t.limit,buttons:t.buttons,skip:e}}));var e}},n))},l=t.skip+1;l<=Math.ceil(i.totalCount/t.limit);l++)n(l);a({skip:0,limit:10,buttons:e})};return Object(n.useEffect)((function(){l()}),[i.totalCount,i.entityType]),r.a.createElement("div",null,r.a.createElement(ee.a,null,t.buttons),r.a.createElement("p",null,"showing entries ",t.skip," to ",t.skip+i.rows.length," out of ",i.totalCount))},ae=a(211),ne=function(e){var t=e.table,a=e.setTable,i=e.tr,l=Object(y.a)().i18n,s=["404","500","401"],c=Object(n.useState)({status:"",message:""}),p=Object(m.a)(c,2),g=p[0],b=p[1],v=function(){var e=Object(u.a)(o.a.mark((function e(n){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.includes(n.status.toString())){e.next=6;break}return e.next=3,n.text();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,n.json();case 8:return r=e.sent,i=t.rows.map((function(e){return e._id==r._id?r:e})),a((function(e){return Object(d.a)(Object(d.a)({},e),{},{rows:i})})),e.abrupt("return","success");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._id=i._id,b({status:"loading",message:""}),e.next=4,fetch("".concat(f.API_URL,"/admin/update/?entityType=").concat(t.entityType),{method:"PUT",headers:{"Content-Type":"application/json",Language:l.language},body:JSON.stringify(a)});case 4:return n=e.sent,e.next=7,v(n);case 7:r=e.sent,b("success"==r?{status:"success",message:"Updated ".concat(t.entityType)}:{status:"error",message:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(C,{formName:"update".concat(t.entityType),onSubmit:h,formResponse:g,value:i})},re=(a(193),function(e){var t=e.table,a=e.setTable,i=Object(n.useContext)(v).openModal;return t.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{animation:"border",variant:"primary"}),r.a.createElement(x.a,{animation:"border",variant:"secondary"}),r.a.createElement(x.a,{animation:"border",variant:"success"}),r.a.createElement(x.a,{animation:"border",variant:"danger"}),r.a.createElement(x.a,{animation:"border",variant:"warning"}),r.a.createElement(x.a,{animation:"border",variant:"info"}),r.a.createElement(x.a,{animation:"border",variant:"light"}),r.a.createElement(x.a,{animation:"border",variant:"dark"}),r.a.createElement(x.a,{animation:"grow",variant:"primary"}),r.a.createElement(x.a,{animation:"grow",variant:"secondary"}),r.a.createElement(x.a,{animation:"grow",variant:"success"}),r.a.createElement(x.a,{animation:"grow",variant:"danger"}),r.a.createElement(x.a,{animation:"grow",variant:"warning"}),r.a.createElement(x.a,{animation:"grow",variant:"info"}),r.a.createElement(x.a,{animation:"grow",variant:"light"}),r.a.createElement(x.a,{animation:"grow",variant:"dark"})):r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,t.headers.map((function(e,a){if(!t.exclude.includes(e))return r.a.createElement("th",{key:a},e)})))),r.a.createElement("tbody",null,t.rows.map((function(e,n){return r.a.createElement("tr",{key:n},Object.keys(e).map((function(a,n){if(!t.exclude.includes(Object.keys(e)[n]))return r.a.createElement("td",{key:n},e[a].toString())})),r.a.createElement("td",{className:"btn-primary table-row",onClick:function(){return i((function(){return ne({table:t,setTable:a,tr:e})}))}},r.a.createElement("i",{className:"fa fa-edit"})))}))))}),ie={user:["completedChallenges","__v","password"],challenge:["__v"],game:["challenges","__v"],text:["__v"]},le=a(215),se=a(212),ce=function(e){var t=e.table,a=e.setTable,n=e.setFilter,i=function(){n((function(e){return{dropdown:e.dropdown,value:"",field:e.field}}))};return r.a.createElement(le.a,{activeKey:t.entityType,onSelect:function(e){return t=e,i(),void a((function(e){return{entityType:t,headers:e.headers,rows:e.rows,totalCount:e.totalCount,isLoading:e.isLoading,exclude:ie[t]}}));var t}},r.a.createElement(se.a,{eventKey:"challenge",title:"challenges"},r.a.createElement(re,{table:t,setTable:a})),r.a.createElement(se.a,{eventKey:"user",title:"users"},r.a.createElement(re,{table:t,setTable:a})),r.a.createElement(se.a,{eventKey:"game",title:"games"},r.a.createElement(re,{table:t,setTable:a})),r.a.createElement(se.a,{eventKey:"text",title:"page text"},r.a.createElement(re,{table:t,setTable:a})))},oe=a(11),ue=function(e){var t=e.table,a=e.setTable;console.log(t);var i=["404","500","401"],l=Object(n.useState)({status:"",message:""}),s=Object(m.a)(l,2),c=s[0],p=s[1],g=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.includes(t.status.toString())){e.next=6;break}return e.next=3,t.text();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,t.json();case 8:return n=e.sent,a((function(e){return Object(d.a)(Object(d.a)({},e),{},{totalCount:e.totalCount+1,rows:[].concat(Object(oe.a)(e.rows),[n])})})),e.abrupt("return","success");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({status:"loading",message:""}),e.next=3,fetch("".concat(f.API_URL,"/").concat(t.entityType,"/create").concat(t.entityType),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,g(n);case 6:r=e.sent,p("success"==r?{status:"success",message:"Created ".concat(t.entityType)}:{status:"error",message:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(C,{formName:"create".concat(t.entityType),onSubmit:b,formResponse:c})},me=function(){var e=Object(n.useContext)(v).openModal,t=Object(n.useContext)(g).user,a=Object(y.a)().i18n,i=Object(F.f)();Object(n.useEffect)((function(){"loading"==t||t._id&&"admin"==t.role||i.push("/home")}),[t]);var l=Object(n.useState)({entityType:"user",headers:[],rows:[],totalCount:0,isLoading:!0,exclude:["completedChallenges","__v","password"]}),s=Object(m.a)(l,2),c=s[0],p=s[1],b=Object(n.useState)({dropdown:[],field:"_id",value:""}),h=Object(m.a)(b,2),E=h[0],x=h[1],j=Object(n.useState)({buttons:[],skip:0,limit:10}),w=Object(m.a)(j,2),O=w[0],k=w[1],N=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,fetch("".concat(f.API_URL,"/admin/get/?entityType=").concat(c.entityType,"&skip=").concat(O.skip,"&limit=").concat(O.limit,"&field=").concat(E.field,"&value=").concat(E.value,"&exclude=").concat(c.exclude),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Language:a.language}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,T(!1),200==t.status?(Array.isArray(n.entities)?(r=Object.keys(n.entities[0]),l=n.entities):(r=Object.keys(n.entities),l=[]),p((function(e){return{entityType:e.entityType,rows:l,headers:r,totalCount:n.totalCount,isLoading:e.isLoading,exclude:e.exclude}}))):i.push("/home");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){p((function(t){return Object(d.a)(Object(d.a)({},t),{},{isLoading:e})}))};return Object(n.useEffect)((function(){N()}),[c.entityType]),Object(n.useEffect)((function(){N()}),[O.skip]),r.a.createElement(A.b.div,{className:"container",exit:"exit"},r.a.createElement(Z,{filter:E,setFilter:x,table:c,setNewTable:N}),r.a.createElement("button",{onClick:function(){return e((function(){return ue({table:c,setTable:p})}))}},"Create new ",c.entityType),r.a.createElement(ce,{table:c,setTable:p,setFilter:x}),r.a.createElement(te,{pagination:O,setPagination:k,table:c,setNewTable:N}))},de=(a(194),function(e){var t=e.title,a=e.details,i=e.path,l=e.t,s=Object(n.useContext)(g).user,c=Object(n.useContext)(v).openModal,o=Object(F.f)();return r.a.createElement("div",{className:"game-details"},r.a.createElement("div",{className:"game-details-image-container"},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1589289959525-b5b685332c7f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=80",alt:"none"})),r.a.createElement("div",{className:"game-details-content"},r.a.createElement("p",{className:"game-details-title text-medium"},t),r.a.createElement("div",{className:"game-details-info"},r.a.createElement("p",{className:"text-medium"},a),s._id?r.a.createElement("p",{className:"game-details-play text-medium",onClick:function(){o.push({pathname:"game/".concat(i)})}},l("play")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"game-details-play text-medium",onClick:function(){return c(L)}},l("login")),r.a.createElement("p",{className:"game-details-play text-medium",onClick:function(){return c(S)}},l("signup"))))))}),pe=(a(195),function(e){var t=e.t;return r.a.createElement("div",{className:"game-list-container"},r.a.createElement("section",{className:"game-list"},r.a.createElement(de,{t:t,title:t("multiPlayerGameTitle"),details:t("multiPlayerGameDetails"),path:"onlineGame"}),r.a.createElement(de,{t:t,title:t("fallGameTitle"),details:t("fallGameDetails"),path:"fallGame"}),r.a.createElement(de,{t:t,title:t("cubeGameTitle"),details:t("cubeGameDetails"),path:"cubeGame"})))}),fe=(a(196),{hidden:{opacity:0,x:"-100vw"},visible:{opacity:1,x:0,transition:{type:"spring",delay:.5,stiffness:50}},exit:{x:"-100vh",transition:{ease:"easeInOut"}}}),ge=function(){var e=Object(y.a)("home").t;return r.a.createElement(A.b.div,{className:"container",variants:fe,initial:"hidden",animate:"visible",exit:"exit"},r.a.createElement("div",{className:"top-section"},r.a.createElement("h1",{className:"title"},e("title"))),r.a.createElement("div",{className:"game-list-section"},r.a.createElement(pe,{t:e})))},be=a(84),ve=a.n(be);a(204);ve.a.setAppElement("#root");var he=function(){var e=Object(n.useContext)(v),t=e.modal,a=e.closeModal;return r.a.createElement("div",null,r.a.createElement(ve.a,{style:{overlay:{borderColor:"grey"},content:{height:"fit-content",width:"fit-content",position:"fixed",margin:"5% auto",left:"0",right:"0",padding:"15px",zIndex:"99999"}},isOpen:t.isShowModal,onRequestClose:function(){return a()}},r.a.createElement("div",{className:"close-button-container"},r.a.createElement("div",{className:"close-button",onClick:function(){return a()}},"X")),r.a.createElement(r.a.Fragment,null,""!=t.component?r.a.createElement(t.component,null):r.a.createElement(r.a.Fragment,null))))},Ee=(a(111),function(e){var t=e.animation,a=e.variant;return r.a.createElement(x.a,{animation:t,variant:a})});var ye=function(){var e=Object(F.g)();return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"suspenseLoader"},r.a.createElement(Ee,{animation:"border",variant:"primary"}))},r.a.createElement("div",{className:"App"},r.a.createElement(M.ToastProvider,null,r.a.createElement(E,null,r.a.createElement(b,null,r.a.createElement(U,null),r.a.createElement(he,null),r.a.createElement(A.a,{exitBeforeEnter:!0},r.a.createElement(F.c,{location:e,key:e.key},r.a.createElement(F.a,{path:"/",exact:!0,component:ge}),r.a.createElement(F.a,{path:"/profile",component:Q}),r.a.createElement(F.a,{path:"/game",component:z}),r.a.createElement(F.a,{path:"/admin",exact:!0,component:me}),r.a.createElement(F.a,{component:ge}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(205);var xe=a(85),je=a(128),we=a(40),Oe=a(129);xe.a.use(Oe.a).use(je.a).use(we.e).init({fallbackLng:["en"],debug:!0,whitelist:["en","he"],backend:{loadPath:"".concat(f.API_URL,"/text/getPageText/?language={{lng}}&page={{ns}}")},react:{useSuspense:!0},interpolation:{escapeValue:!1}});xe.a;l.a.render(r.a.createElement(s.a,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create Challenge",spinner:!0},fields:[{label:"challenge name",name:"challengeName",placeholder:"Enter the challengeName",required:!0},{type:"select",options:["cubeGame","stickGame","multiPlayerGame","fallGame"],label:"game name",name:"gameName",required:!0},{label:"reward",name:"reward",placeholder:"Enter the amount of tickets for this reward",type:"number",required:!0},{name:"active",label:"active",type:"checkbox"}]}},44:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create game",spinner:!0},fields:[{label:"game name",name:"gameName",placeholder:"Enter the Name of the game",required:!0}]}},45:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create Text",spinner:!0},fields:[{type:"select",options:["admin","game","home","profile","constant"],label:"Page",name:"pageName",required:!0},{type:"select",options:["en","he"],label:"language",name:"language",required:!0},{label:"key",name:"key",placeholder:"Enter the key to find this text",type:"input",required:!0},{label:"value",name:"value",placeholder:"Enter the value for the text",type:"input",required:!0}]}},46:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create User",spinner:!0},fields:[{label:"username",placeholder:"Enter a username",name:"username",validation:{required:"please enter a username",minLength:{value:5,message:"username must have at least 5 characters"}}},{label:"email",placeholder:"Enter a email",name:"email",type:"email",validation:{required:"please enter a valid email address",pattern:{value:/^\S+@\S+\.\S+$/,message:"invalid email address"}}},{label:"tickets",placeholder:"Enter an amount of tickets",name:"tickets",type:"number"},{label:"password",placeholder:"Enter a password",name:"password",type:"password",validation:{required:"this is required",minLength:{value:5,message:"Password must have at least 5 characters"}}},{label:"Confirm password",placeholder:"please confirm pasword",name:"password_repeat",type:"confirmpassword",validation:{message:"The passwords do not match"}},{type:"select",name:"role",options:["admin","user"],label:"User role",required:!0}]}},47:function(e,t,a){"use strict";a.r(t),t.default={config:{spinner:!0,buttonText:"Login"},fields:[{label:"username",name:"username",placeholder:"Enter your username",validation:{required:"please enter your username"}},{label:"password",placeholder:"Enter your password",name:"password",type:"password",validation:{required:"please enter your password"}}]}},48:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create User",spinner:!0},fields:[{label:"username",placeholder:"Enter a username",name:"username",validation:{required:"please enter a username",minLength:{value:5,message:"username must have at least 5 characters"}}},{label:"email",placeholder:"Enter a email",name:"email",type:"email",validation:{required:"please enter a valid email address",pattern:{value:/^\S+@\S+\.\S+$/,message:"invalid email address"}}},{label:"password",placeholder:"Enter a password",name:"password",type:"password",validation:{required:"this is required",minLength:{value:5,message:"Password must have at least 5 characters"}}},{label:"Confirm password",placeholder:"please confirm pasword",name:"password_repeat",type:"confirmpassword",validation:{message:"The passwords do not match"}}]}},49:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Create Challenge",spinner:!0},fields:[{label:"challengeName",name:"challengeName",placeholder:"Enter the challengeName",required:!0},{type:"select",name:"gameName",entity:"Game",options:["cubeGame","stickGame","multiPlayerGame","fallGame"],label:"gameName",required:!0},{label:"reward",name:"reward",placeholder:"Enter the amount of tickets for this reward",type:"number",required:!0},{name:"active",label:"active",type:"checkbox"}]}},50:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Update game",spinner:!0},fields:[{label:"game name",name:"gameName",placeholder:"Enter the Name of the game",required:!0}]}},51:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Update Text",spinner:!0},fields:[{type:"select",options:["admin","game","home","profile","constant"],label:"Page",name:"pageName",required:!0},{type:"select",options:["en","he"],label:"language",name:"language",required:!0},{label:"key",name:"key",placeholder:"Enter the key to find this text",type:"input",required:!0},{label:"value",name:"value",placeholder:"Enter the value for the text",type:"input",required:!0}]}},52:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"Update User",spinner:!0},fields:[{label:"username",placeholder:"Enter a username",name:"username",validation:{required:"please enter a username",minLength:{value:5,message:"username must have at least 5 characters"}}},{label:"email",placeholder:"Enter a email",name:"email",type:"email",validation:{required:"please enter a valid email address",pattern:{message:"invalid email address"}}},{label:"tickets",placeholder:"Enter an amount of tickets",name:"tickets",type:"number"},{type:"select",name:"role",options:["admin","user"],label:"User role",required:!0}]}},89:function(e,t,a){"use strict";a.r(t),t.default={config:{spinner:!0,buttonText:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"},fields:[{label:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",name:"username",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",validation:{required:"\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}},{label:"\u05e1\u05d9\u05e1\u05de\u05d4",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05ea\u05da",name:"password",type:"password",validation:{required:"\u05d4\u05d6\u05df \u05d0\u05ea \u05e1\u05d9\u05e1\u05de\u05ea\u05da \u05d1\u05d1\u05e7\u05e9\u05d4"}}]}},90:function(e,t,a){"use strict";a.r(t),t.default={config:{buttonText:"\u05d4\u05d9\u05e8\u05e9\u05dd",spinner:!0},fields:[{label:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",name:"username",validation:{required:"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",minLength:{value:5,message:"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05db\u05dc\u05d5\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 5 \u05ea\u05d5\u05d5\u05d9\u05dd"}}},{label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",placeholder:'\u05d4\u05d6\u05df \u05d3\u05d5\u05d0"\u05dc',name:"email",type:"email",validation:{required:'\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc \u05ea\u05e7\u05e0\u05d9\u05ea',pattern:{value:/^\S+@\S+\.\S+$/,message:'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9\u05ea'}}},{label:"\u05e1\u05d9\u05e1\u05de\u05d4",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0",name:"password",type:"password",validation:{required:"\u05d6\u05d4 \u05e0\u05d3\u05e8\u05e9",minLength:{value:5,message:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05db\u05dc\u05d5\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 5 \u05ea\u05d5\u05d5\u05d9\u05dd"}}},{label:"\u05d0\u05e9\u05e8 \u05e1\u05d9\u05e1\u05de\u05d4",placeholder:"\u05d0\u05e0\u05d0 \u05d0\u05e9\u05e8 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d4",name:"password_repeat",type:"confirmpassword",validation:{message:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05dc\u05d0 \u05ea\u05d5\u05d0\u05de\u05d5\u05ea"}}]}}},[[134,1,2]]]);
//# sourceMappingURL=main.5ec1a4e5.chunk.js.map