{"version":3,"sources":["config.js","contexts/userContext.js","components/GamePlayer/gamePlayer.js","components/SinglePlayerGame/singlePlayerGame.js","reducers/gameReducer.js","contexts/gameContext.js","components/UnityPlayer/unityPlayer.js","components/MultiPlayerGame/multiPlayerGame.js","contexts/modalContext.js","components/Login/login.js","components/GameDetails/gameDetails.js","components/GameList/gameList.js","components/Home/home.js","components/Signup/signup.js","components/Navbar/navbar.js","components/Modal/Modal.js","App.js","serviceWorker.js","index.js","components/Navbar/logo.png"],"names":["config","process","REACT_APP_STAGE","API_URL","MULTIPLAYER_GAME_URL","UserContext","createContext","initialState","JSON","parse","localStorage","getItem","id","username","accessToken","UserContextProvider","props","useState","user","setUser","login","userData","a","fetch","method","headers","body","stringify","res","json","response","_id","setItem","test","console","log","signup","Provider","value","signout","removeItem","children","GamePlayer","game","history","useHistory","useContext","useEffect","push","src","height","width","SinglePlayerGame","location","state","gameReducer","action","type","playerId","data","thisPlayerId","isDuplicate","allPlayers","newPlayer","filter","player","removedPlayerID","GameContext","GameContextProvider","useReducer","gameDispatch","UnityPlayer","Game","Socket","io","on","emit","removedPlayer","close","ModalContext","isShowModal","component","ModalContextProvider","modal","setModal","openModal","closeModal","Login","setUsername","password","setPassword","handleSubmit","e","preventDefault","onSubmit","placeholder","required","onChange","target","GameDetails","title","details","gameType","gameName","className","alt","onClick","pathname","GameList","Home","Signup","email","setEmail","Navbar","to","Logo","Modal","setAppElement","CModal","w","style","overlay","borderColor","content","maxWidth","top","left","right","bottom","isOpen","onRequestClose","Fragment","App","path","exact","MultiPlayerGame","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","module","exports"],"mappings":"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","file":"static/js/main.a524a986.chunk.js","sourcesContent":["const dev = {\r\n    API_URL : \"http://localhost:8080\",\r\n    MULTIPLAYER_GAME_URL : \"http://localhost:7000\"\r\n  };\r\n  \r\n  const prod = {\r\n    API_URL : \"https://unity-react-games.herokuapp.com\",\r\n    MULTIPLAYER_GAME_URL : \"https://online-game-iframe.herokuapp.com\"\r\n  };\r\n  \r\n  const config = process.env.REACT_APP_STAGE === 'production'\r\n    ? prod\r\n    : dev;\r\n  \r\n  export default {\r\n    ...config\r\n  };","import React, {createContext, useState} from 'react';\r\nimport { userReducer } from '../reducers/userReducer';\r\nimport config from \"../config\"\r\n\r\nexport const UserContext = createContext();\r\n\r\n\r\nconst initialState = JSON.parse(localStorage.getItem(\"jwt\")) || \r\n{\r\n  id : null,\r\n  username : \"\",\r\n  accessToken : \"\"\r\n};\r\n\r\nconst UserContextProvider = (props) => {\r\n    const [user, setUser] = useState(initialState)\r\n    \r\n    const signout = () =>{\r\n      localStorage.removeItem(\"jwt\")\r\n        setUser({\r\n          id : null,\r\n          username : \"\",\r\n          accessToken : \"\"\r\n        })\r\n    }\r\n\r\n    const login  = async (userData) => {\r\n        const res =  await fetch(`${config.API_URL}/users/login`, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userData) // body data type must match \"Content-Type\" header\r\n          });\r\n          const response = await res.json()\r\n          // find better place to put this\r\n          const user = {\r\n            id : response.user._id,\r\n            username : response.user.username,\r\n            accessToken : response.accessToken\r\n          }\r\n          localStorage.setItem(\"jwt\", JSON.stringify(user))\r\n          setUser(user)\r\n    }\r\n\r\n    const test = async () =>{\r\n      const res =  await fetch(`${config.API_URL}/users/test`, {\r\n          method: 'GET', // *GET, POST, PUT, DELETE, etc.\r\n          headers: {\r\n            'Authorization' : `Bearer ${user.accessToken}` ,\r\n            'Content-Type': 'application/json'\r\n          },\r\n        \r\n        });\r\n        const response = await res.json()\r\n        console.log(response)\r\n  }\r\n\r\n\r\n    const signup = async (userData) =>{\r\n        const res =  await fetch(`${config.API_URL}/users/signup`, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userData) // body data type must match \"Content-Type\" header\r\n          });\r\n          const response = await res.json()\r\n          const user = {\r\n            id : response.user._id,\r\n            username : response.user.username,\r\n            accessToken : response.accessToken\r\n          }\r\n          // find better place to put this\r\n          localStorage.setItem(\"jwt\", JSON.stringify(user))\r\n          setUser(user)\r\n    }\r\n\r\n    return(\r\n        <UserContext.Provider value={{user, login,signout,signup, test}}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n}\r\n\r\nexport default UserContextProvider;","import React, {useEffect, useContext} from \"react\";\r\nimport { UserContext } from \"../../contexts/userContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./gamePlayer.css\"\r\n\r\nconst GamePlayer = ({game}) => {\r\n  const history = useHistory()\r\n  const {user} = useContext(UserContext)\r\n\r\n\r\n\r\n  const closeGame =  () =>{\r\n    //redirect to home page\r\n    history.push(\"/home\")   \r\n   }\r\n\r\n// close game if we sign out\r\n    useEffect(() =>{\r\n      if(!user.id){\r\n        closeGame()\r\n      }\r\n    },[user])\r\n    \r\n    return (\r\n      <div id=\"unity-body\">\r\n        <iframe src={game} height=\"900px\" width=\"100%\"></iframe>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default GamePlayer","import React from 'react';\r\nimport GamePlayer from '../GamePlayer/gamePlayer';\r\n\r\nconst SinglePlayerGame = ({location}) => {\r\n    return ( \r\n        <GamePlayer game={location.state}/>\r\n     );\r\n}\r\n \r\nexport default SinglePlayerGame;","export const gameReducer = (state,action) =>{\r\n    switch(action.type){\r\n\r\n        case 'START_GAME':\r\n            console.log(action)\r\n            return {playerId : action.data.thisPlayerId, isDuplicate : false, allPlayers : action.data.allPlayers}\r\n\r\n        case 'SET_PLAYER_AS_DUPLICATE':\r\n            console.log(\"SET_PLAYER_AS_DUPLICATE\", action)\r\n            return {playerId : action.playerId, isDuplicate : true, allPlayers : []}\r\n\r\n        case 'ADD_NEW_PLAYER':\r\n            console.log(\"ADD_NEW_PLAYER\", action)\r\n            return {playerId : state.playerId, isDuplicate : state.isDuplicate, allPlayers : [...state.allPlayers, action.newPlayer]}\r\n\r\n        case \"REMOVE_PLAYER\":\r\n            console.log(\"REMOVE_PLAYER\", action)\r\n            return {playerId : state.playerId, isDuplicate : state.isDuplicate,  allPlayers : state.allPlayers.filter(player => player.id != action.removedPlayerID)}\r\n\r\n        case \"CLEAR_ALL_PLAYERS\":\r\n            console.log(\"CLEAR_ALL_PLAYERS\", action)\r\n            return {thisPlayerId : \"\", allPlayers: [],isDuplicate : false}\r\n\r\n        case \"SET_ALL_PLAYERS\":\r\n            console.log(\"set all players\", action.allPlayers)\r\n            return {...state, allPlayers : action.allPlayers}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import React, {createContext, useReducer} from 'react';\r\nimport { gameReducer } from '../reducers/gameReducer';\r\n\r\n\r\nexport const GameContext = createContext();\r\n\r\nconst GameContextProvider = (props) => {\r\n    const [game, gameDispatch] = useReducer(gameReducer,{ thisPlayerId : \"\", isDuplicate : false, allPlayers: []})\r\n    \r\n    return(\r\n        <GameContext.Provider value={{game, gameDispatch }}>\r\n            {props.children}\r\n        </GameContext.Provider>\r\n    )\r\n}\r\n\r\nexport default GameContextProvider;","import React, {useEffect, useContext} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../contexts/userContext\";\r\n\r\nconst UnityPlayer = ({game}) => {\r\n    const history = useHistory()\r\n    const {user} = useContext(UserContext)\r\n\r\n    useEffect(() =>{\r\n        if(!user.id){\r\n            history.push(\"/home\")\r\n        }\r\n    },[user])\r\n \r\n    return ( \r\n        <div id=\"unity-body\">\r\n            <iframe src={game} height=\"900px\" width=\"100%\"></iframe>\r\n      </div>\r\n                \r\n        \r\n     );\r\n}\r\n \r\nexport default UnityPlayer;","import React, {useEffect, useContext} from \"react\";\r\nimport { UserContext } from \"../../contexts/userContext\";\r\nimport { GameContext } from \"../../contexts/gameContext\";\r\nimport io from \"socket.io-client\";\r\nimport \"./multiPlayerGame.css\"\r\nimport UnityPlayer from \"../UnityPlayer/unityPlayer\";\r\nimport config from \"../../config\"\r\nconst Game = () => {\r\n\r\n  const {user} = useContext(UserContext)\r\n  const {game,gameDispatch} = useContext(GameContext)\r\n  let Socket = null\r\n\r\n    useEffect(() =>{\r\n      console.log(\"in use effect\")\r\n      Socket = io(config.MULTIPLAYER_GAME_URL);  \r\n      if(Socket){\r\n        Socket.on(\"connect\", () => {\r\n          console.log(\"connetion\")\r\n        });\r\n       \r\n        Socket.emit(\"addReactUser\", user);\r\n\r\n        // gets me all players \r\n        Socket.on(\"reactFirstSpawn\", (data) =>{  \r\n          console.log(\"reactFirstSpawn\")\r\n           gameDispatch({type : \"START_GAME\", data})\r\n        })\r\n        \r\n        Socket.on(\"duplicatePlayer\", (playerId) =>{\r\n          console.log(\"duplicatePlayer\")\r\n           gameDispatch({type : \"SET_PLAYER_AS_DUPLICATE\", playerId})\r\n        })\r\n\r\n        //add new player\r\n        Socket.on(\"reactSpawn\", (newPlayer) =>{\r\n          console.log(\"reactSpawn\")\r\n\r\n          //if we are signed in then show us the new player\r\n             gameDispatch({type : \"ADD_NEW_PLAYER\", newPlayer})\r\n        })\r\n\r\n        //if a player diconnects or signs out\r\n        Socket.on(\"disconnectFromReact\", (removedPlayer)=>{\r\n          console.log(\"in disconnectFromReact\",removedPlayer)\r\n           //remove the dsiconnected player\r\n           // getting called twice for some reason \r\n           if(!game.isDuplicate){\r\n              gameDispatch({type : \"REMOVE_PLAYER\", removedPlayerID: removedPlayer})\r\n           }\r\n           \r\n       })\r\n        return  () =>{\r\n          console.log(\"in return\")\r\n           gameDispatch({type : \"CLEAR_ALL_PLAYERS\"})\r\n          Socket.close()\r\n        }\r\n      } \r\n    },[])\r\n    \r\n    return (\r\n      game.isDuplicate ?\r\n            <div>Looks like you have this opened in anoyher tab try closing and refreshing the page</div>                             \r\n          :     \r\n          <UnityPlayer game={config.MULTIPLAYER_GAME_URL + \"/\"}/>              \r\n    );\r\n};\r\n\r\nexport default Game","import React, {createContext, useState} from 'react';\r\n\r\n\r\nexport const ModalContext = createContext();\r\n\r\n\r\nconst initialState = {isShowModal : false, component:\"\"};\r\n\r\nconst ModalContextProvider = (props) => {\r\n    const [modal, setModal] = useState(initialState)\r\n    \r\n    const openModal = (component) =>{\r\n        setModal({\r\n            isShowModal : true,\r\n            component :  component\r\n        })\r\n    }\r\n\r\n    const closeModal = () =>{\r\n        setModal({\r\n            isShowModal : false,\r\n            component : \"\"\r\n        })\r\n    }\r\n\r\n    return(\r\n        <ModalContext.Provider value={{modal, openModal,closeModal }}>\r\n            {props.children}\r\n        </ModalContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ModalContextProvider\r\n\r\n\r\n","import React,{useState,useContext} from 'react';\r\nimport { UserContext } from \"../../contexts/userContext\";\r\nimport {ModalContext} from '../../contexts/modalContext';\r\n\r\nconst Login = () => {\r\n    const [username,setUsername] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const {login} = useContext(UserContext)\r\n    const {closeModal} = useContext(ModalContext)\r\n\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault()  \r\n        const userData = {\r\n            username : username,\r\n            password : password\r\n        }\r\n        await login(userData)\r\n        closeModal()\r\n    }\r\n\r\n    return ( \r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"text\" placeholder=\"username\" required value={username} onChange={(e) => setUsername(e.target.value)}/>\r\n            <input type=\"password\" placeholder=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n            <input type=\"submit\" value=\"Login\"/>\r\n        </form>\r\n     );\r\n}\r\n \r\nexport default Login;","import React, {useContext} from 'react';\r\nimport \"./gameDetails.css\"\r\nimport { UserContext } from \"../../contexts/userContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {ModalContext} from '../../contexts/modalContext';\r\nimport Login from '../Login/login';\r\n\r\n\r\nconst GameDetails = ({title, details,gameType, gameName}) => {\r\n    console.log(gameName)\r\n    const {user} = useContext(UserContext)\r\n    const {openModal} = useContext(ModalContext)\r\n    const history = useHistory()\r\n    const toGame = () =>{\r\n        history.push({\r\n                pathname : `${gameType}`,\r\n                state:  gameName \r\n               \r\n            })   \r\n    }\r\n\r\n    return ( \r\n        <div className=\"game-details\">\r\n            <div className=\"game-details-image-container\">\r\n                <img src=\"https://images.unsplash.com/photo-1589289959525-b5b685332c7f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1200&q=80\" alt=\"none\"/>\r\n            </div>\r\n\r\n            <div className=\"game-details-content\">\r\n                <p className=\"game-details-title text-medium\">\r\n                   {title}\r\n                </p>\r\n                <div className=\"game-details-info\">\r\n                    <p className=\"text-medium\">{details}</p>\r\n                   {user.id ? \r\n                   <p className=\"game-details-play text-medium\" onClick={() => toGame()}>Play</p> :\r\n                   <p className=\"game-details-play text-medium\" onClick={() => openModal(Login)}>Log In to Play</p>\r\n                   }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default GameDetails;","import React from 'react';\r\nimport GameDetails from \"../GameDetails/gameDetails\"\r\nimport \"./gameList.css\"\r\n\r\nconst GameList = () => {\r\n\r\n    const games = []\r\n\r\n    return ( \r\n            <div className=\"game-list-container\">\r\n                <section className=\"game-list\">\r\n                   \r\n                        <GameDetails title=\"online game\" details=\"its a mulitplayer game\" gameType=\"/mulitPlayerGame\" gameName=\"onlineGame\"/>\r\n                        <GameDetails title=\"Stick game\" details=\"its a single player game\" gameType=\"/singlePlayerGame\" gameName=\"stick adventure demo\"/>\r\n                        \r\n              \r\n                    \r\n                </section>\r\n            </div>\r\n        \r\n      \r\n     );\r\n}\r\n \r\nexport default GameList;","import React from 'react';\r\nimport GameList from \"../GameList/gameList\"\r\nimport \"./home.css\"\r\n\r\nconst Home = () => {\r\n\r\n    return ( \r\n      <div className=\"container\">\r\n        <div className=\"top-section\">\r\n        < h1>Select a Game</h1>\r\n        </div>\r\n        <div className=\"game-list-section\">\r\n        <GameList/>\r\n        </div>\r\n      </div>\r\n      \r\n     );\r\n}\r\n \r\nexport default Home;","import React,{useState,useContext} from 'react';\r\nimport { UserContext } from \"../../contexts/userContext\";\r\nimport {ModalContext} from '../../contexts/modalContext';\r\n\r\nconst Signup = () => {\r\n    const [username,setUsername] = useState('')\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    const {signup, test} = useContext(UserContext)\r\n    const {closeModal} = useContext(ModalContext)\r\n\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault()  \r\n        const userData = {\r\n            username : username,\r\n            password : password,\r\n            email : email\r\n        }\r\n        await signup(userData)\r\n        closeModal();\r\n    }\r\n\r\n    return ( \r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"text\" placeholder=\"username\" required value={username} onChange={(e) => setUsername(e.target.value)}/>\r\n            <input type=\"email\" placeholder=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)}/>\r\n\r\n            <input type=\"password\" placeholder=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n            <input type=\"submit\" value=\"Sign up\"/>\r\n        </form>\r\n     );\r\n}\r\n \r\nexport default Signup;","import React, {useContext,useState, useEffect} from 'react';\r\nimport Login from \"../Login/login\"\r\nimport Signup from \"../Signup/signup\"\r\nimport { Link } from 'react-router-dom'\r\nimport \"./navbar.css\"\r\nimport Logo from \"./logo.png\";\r\nimport {ModalContext} from '../../contexts/modalContext';\r\nimport {UserContext} from '../../contexts/userContext';\r\n\r\n\r\nconst Navbar = () => {\r\n  const {openModal} = useContext(ModalContext)\r\n  const {user, signout} = useContext(UserContext)\r\n\r\n\r\n    return ( \r\n        <header>\r\n          <Link  className=\"logo-container\" to=\"/home\">\r\n          <img className=\"logo\" src={Logo} alt=\"Logo\" />\r\n          </Link>\r\n          <nav>     \r\n              { user.id ? \r\n                  <ul className=\"nav-links\">\r\n                    <li onClick={() => signout()}><a/>Signout</li>\r\n                    <li onClick={() => openModal(Signup)}><a/>Sign Up</li>\r\n                    <li><a/>Profile</li>\r\n                  </ul>\r\n                  :\r\n                  <ul className=\"nav-links\">\r\n                    <li onClick={() => openModal(Signup)}><a/>Sign Up</li>\r\n                    <li onClick={() => openModal(Login)}><a/>Login</li>\r\n                  </ul>\r\n              }\r\n            \r\n          </nav>\r\n          {/* <a className=\"cta\"><button>Contact</button></a> */}\r\n      </header> \r\n     );\r\n}\r\n \r\nexport default Navbar;","import React, { useContext,useEffect,useState} from 'react';\r\nimport {ModalContext} from '../../contexts/modalContext';\r\nimport Modal from \"react-modal\";\r\nimport Login from \"../Login/login\" \r\n\r\nModal.setAppElement('#root')\r\nconst CModal = () => {\r\n    const {modal, closeModal} = useContext(ModalContext)     \r\n    return ( \r\n        <div>      \r\n            <Modal w\r\n            style={{overlay :{borderColor: \"grey\"},content : {maxWidth : \"100%\", top: '50px',\r\n            left: '50px',\r\n            right: '50px',\r\n            bottom: '50px',} }} \r\n            isOpen={modal.isShowModal}\r\n            onRequestClose={() => closeModal() }\r\n            >\r\n                <React.Fragment>\r\n             {modal.component != \"\" ? <modal.component/> : <></>}\r\n              </React.Fragment>\r\n                <button onClick={() => closeModal()}></button>\r\n            </Modal>\r\n        </div> \r\n     ) \r\n}\r\n \r\nexport default CModal;","import React from 'react';\nimport SinglePlayerGame from \"./components/SinglePlayerGame/singlePlayerGame\"\nimport MultiPlayerGame from \"./components/MultiPlayerGame/multiPlayerGame\"\n\nimport UnityPlayer from \"./components/UnityPlayer/unityPlayer\"\n\nimport Home from \"./components/Home/home\"\nimport Navbar from \"./components/Navbar/navbar\"\nimport GameContextProvider from './contexts/gameContext';\nimport UserContextProvider from './contexts/userContext';\nimport ModalContextProvider from './contexts/modalContext';\nimport { BrowserRouter as Router,Route} from \"react-router-dom\";\nimport CModal from './components/Modal/Modal';\nimport config from \"./config\"\n\nfunction App() {\n\n  console.log(config)\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <ModalContextProvider>\n        <UserContextProvider>\n        <GameContextProvider>\n          <Navbar/> \n          <CModal/>\n          <Route path=\"/\" exact component={Home}/>\n          <Route path=\"/home\" exact component={Home}/>\n          <Route path=\"/mulitPlayerGame\" exact component={MultiPlayerGame}/>   \n          <Route path=\"/singlePlayerGame\" exact component={SinglePlayerGame}/>   \n        </GameContextProvider>\n        </UserContextProvider>\n        </ModalContextProvider>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.3fa434f6.png\";"],"sourceRoot":""}